(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{WN3O:function(e,t,a){e.exports={standardList:"antd-pro-pages-list-basic-list-standardList",headerInfo:"antd-pro-pages-list-basic-list-headerInfo",listContent:"antd-pro-pages-list-basic-list-listContent",listContentItem:"antd-pro-pages-list-basic-list-listContentItem",extraContentSearch:"antd-pro-pages-list-basic-list-extraContentSearch",listCard:"antd-pro-pages-list-basic-list-listCard",standardListForm:"antd-pro-pages-list-basic-list-standardListForm",formResult:"antd-pro-pages-list-basic-list-formResult"}},w9uU:function(e,t,a){"use strict";a.r(t);a("ria/");var n,l,r,i,s=a("2gaE"),o=(a("Mq5h"),a("SHxp")),c=(a("RP/e"),a("izPl")),d=(a("pko2"),a("yz32")),m=(a("JXWm"),a("cpGE")),u=(a("T+7u"),a("S/fC")),p=a("U1Sa"),E=a.n(p),h=(a("dZVJ"),a("Nf2q")),f=(a("7D5O"),a("VVh6")),v=(a("/J8Y"),a("zfnJ")),b=(a("oH73"),a("5n/v")),y=(a("jXZ4"),a("BFhU")),C=(a("YCpI"),a("jnPV")),g=a("smUt"),w=a.n(g),S=a("Pjwa"),k=a.n(S),x=a("2cji"),I=a.n(x),D=a("sp3j"),N=a.n(D),L=a("vZkh"),M=a.n(L),O=a("+KCP"),T=a.n(O),V=(a("y5MA"),a("Gywv")),Y=(a("5L90"),a("aCNS")),q=(a("OIT9"),a("4yid")),z=(a("CyPW"),a("q5eX")),A=a("/0b7"),j=a.n(A),B=a("1OWq"),H=a("a/LZ"),J=a.n(H),P=a("LneV"),F=a("zHco"),W=a("ALo4"),R=a("WN3O"),U=a.n(R),Z=z["a"].Item,G=q["a"].Button,X=q["a"].Group,K=Y["a"].Option,Q=V["a"].Search,$=V["a"].TextArea,_=(n=Object(P["connect"])(function(e){var t=e.list,a=e.loading;return{list:t,loading:a.models.list}}),l=z["a"].create(),n(r=l((i=function(e){function t(){var e,a;k()(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=N()(this,(e=M()(t)).call.apply(e,[this].concat(l))),a.state={visible:!1,done:!1},a.formLayout={labelCol:{span:7},wrapperCol:{span:13}},a.showModal=function(){a.setState({visible:!0,current:void 0})},a.showEditModal=function(e){a.setState({visible:!0,current:e})},a.handleDone=function(){setTimeout(function(){return a.addBtn.blur()},0),a.setState({done:!1,visible:!1})},a.handleCancel=function(){setTimeout(function(){return a.addBtn.blur()},0),a.setState({visible:!1})},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.dispatch,l=t.form,r=a.state.current,i=r?r.id:"";setTimeout(function(){return a.addBtn.blur()},0),l.validateFields(function(e,t){e||(a.setState({done:!0}),n({type:"list/submit",payload:w()({id:i},t)}))})},a.deleteItem=function(e){var t=a.props.dispatch;t({type:"list/submit",payload:{id:e}})},a}return T()(t,e),I()(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"list/fetch",payload:{count:5}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.list.list,n=t.loading,l=this.props.form.getFieldDecorator,r=this.state,i=r.visible,p=r.done,g=r.current,w=void 0===g?{}:g,S=function(t,a){"edit"===t?e.showEditModal(a):"delete"===t&&C["a"].confirm({title:"\u5220\u9664\u4efb\u52a1",content:"\u786e\u5b9a\u5220\u9664\u8be5\u4efb\u52a1\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){return e.deleteItem(a.id)}})},k=p?{footer:null,onCancel:this.handleDone}:{okText:"\u4fdd\u5b58",onOk:this.handleSubmit,onCancel:this.handleCancel},x=function(e){var t=e.title,a=e.value,n=e.bordered;return j.a.createElement("div",{className:U.a.headerInfo},j.a.createElement("span",null,t),j.a.createElement("p",null,a),n&&j.a.createElement("em",null))},I=j.a.createElement("div",{className:U.a.extraContent},j.a.createElement(X,{defaultValue:"all"},j.a.createElement(G,{value:"all"},"\u5168\u90e8"),j.a.createElement(G,{value:"progress"},"\u8fdb\u884c\u4e2d"),j.a.createElement(G,{value:"waiting"},"\u7b49\u5f85\u4e2d")),j.a.createElement(Q,{className:U.a.extraContentSearch,placeholder:"\u8bf7\u8f93\u5165",onSearch:function(){return{}}})),D={showSizeChanger:!0,showQuickJumper:!0,pageSize:5,total:50},N=function(e){var t=e.data,a=t.owner,n=t.createdAt,l=t.percent,r=t.status;return j.a.createElement("div",{className:U.a.listContent},j.a.createElement("div",{className:U.a.listContentItem},j.a.createElement("span",null,"Owner"),j.a.createElement("p",null,a)),j.a.createElement("div",{className:U.a.listContentItem},j.a.createElement("span",null,"\u5f00\u59cb\u65f6\u95f4"),j.a.createElement("p",null,J()(n).format("YYYY-MM-DD HH:mm"))),j.a.createElement("div",{className:U.a.listContentItem},j.a.createElement(y["a"],{percent:l,status:r,strokeWidth:6,style:{width:180}})))},L=function(e){return j.a.createElement(f["a"],{overlay:j.a.createElement(b["a"],{onClick:function(t){var a=t.key;return S(a,e.current)}},j.a.createElement(b["a"].Item,{key:"edit"},"\u7f16\u8f91"),j.a.createElement(b["a"].Item,{key:"delete"},"\u5220\u9664"))},j.a.createElement("a",null,"\u66f4\u591a ",j.a.createElement(v["a"],{type:"down"})))},M=function(){return p?j.a.createElement(W["a"],{type:"success",title:"\u64cd\u4f5c\u6210\u529f",description:"\u4e00\u7cfb\u5217\u7684\u4fe1\u606f\u63cf\u8ff0\uff0c\u5f88\u77ed\u540c\u6837\u4e5f\u53ef\u4ee5\u5e26\u6807\u70b9\u3002",actions:j.a.createElement(h["a"],{type:"primary",onClick:e.handleDone},"\u77e5\u9053\u4e86"),className:U.a.formResult}):j.a.createElement(z["a"],{onSubmit:e.handleSubmit},j.a.createElement(Z,E()({label:"\u4efb\u52a1\u540d\u79f0"},e.formLayout),l("title",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4efb\u52a1\u540d\u79f0"}],initialValue:w.title})(j.a.createElement(V["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),j.a.createElement(Z,E()({label:"\u5f00\u59cb\u65f6\u95f4"},e.formLayout),l("createdAt",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5f00\u59cb\u65f6\u95f4"}],initialValue:w.createdAt?J()(w.createdAt):null})(j.a.createElement(u["a"],{showTime:!0,placeholder:"\u8bf7\u9009\u62e9",format:"YYYY-MM-DD HH:mm:ss",style:{width:"100%"}}))),j.a.createElement(Z,E()({label:"\u4efb\u52a1\u8d1f\u8d23\u4eba"},e.formLayout),l("owner",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4efb\u52a1\u8d1f\u8d23\u4eba"}],initialValue:w.owner})(j.a.createElement(Y["a"],{placeholder:"\u8bf7\u9009\u62e9"},j.a.createElement(K,{value:"\u4ed8\u6653\u6653"},"\u4ed8\u6653\u6653"),j.a.createElement(K,{value:"\u5468\u6bdb\u6bdb"},"\u5468\u6bdb\u6bdb")))),j.a.createElement(Z,E()({},e.formLayout,{label:"\u4ea7\u54c1\u63cf\u8ff0"}),l("subDescription",{rules:[{message:"\u8bf7\u8f93\u5165\u81f3\u5c11\u4e94\u4e2a\u5b57\u7b26\u7684\u4ea7\u54c1\u63cf\u8ff0\uff01",min:5}],initialValue:w.subDescription})(j.a.createElement($,{rows:4,placeholder:"\u8bf7\u8f93\u5165\u81f3\u5c11\u4e94\u4e2a\u5b57\u7b26"}))))};return j.a.createElement(F["a"],null,j.a.createElement("div",{className:U.a.standardList},j.a.createElement(c["a"],{bordered:!1},j.a.createElement(d["a"],null,j.a.createElement(m["a"],{sm:8,xs:24},j.a.createElement(x,{title:"\u6211\u7684\u5f85\u529e",value:"8\u4e2a\u4efb\u52a1",bordered:!0})),j.a.createElement(m["a"],{sm:8,xs:24},j.a.createElement(x,{title:"\u672c\u5468\u4efb\u52a1\u5e73\u5747\u5904\u7406\u65f6\u95f4",value:"32\u5206\u949f",bordered:!0})),j.a.createElement(m["a"],{sm:8,xs:24},j.a.createElement(x,{title:"\u672c\u5468\u5b8c\u6210\u4efb\u52a1\u6570",value:"24\u4e2a\u4efb\u52a1"})))),j.a.createElement(c["a"],{className:U.a.listCard,bordered:!1,title:"\u6807\u51c6\u5217\u8868",style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},extra:I},j.a.createElement(h["a"],{type:"dashed",style:{width:"100%",marginBottom:8},icon:"plus",onClick:this.showModal,ref:function(t){e.addBtn=Object(B["findDOMNode"])(t)}},"\u6dfb\u52a0"),j.a.createElement(s["a"],{size:"large",rowKey:"id",loading:n,pagination:D,dataSource:a,renderItem:function(t){return j.a.createElement(s["a"].Item,{actions:[j.a.createElement("a",{onClick:function(a){a.preventDefault(),e.showEditModal(t)}},"\u7f16\u8f91"),j.a.createElement(L,{current:t})]},j.a.createElement(s["a"].Item.Meta,{avatar:j.a.createElement(o["a"],{src:t.logo,shape:"square",size:"large"}),title:j.a.createElement("a",{href:t.href},t.title),description:t.subDescription}),j.a.createElement(N,{data:t}))}}))),j.a.createElement(C["a"],E()({title:p?null:"\u4efb\u52a1".concat(w.id?"\u7f16\u8f91":"\u6dfb\u52a0"),className:U.a.standardListForm,width:640,bodyStyle:p?{padding:"72px 0"}:{padding:"28px 0 0"},destroyOnClose:!0,visible:i},k),M()))}}]),t}(A["PureComponent"]),r=i))||r)||r);t["default"]=_}}]);