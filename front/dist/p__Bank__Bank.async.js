(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{A4lL:function(e,t,a){"use strict";a.r(t);a("jdV2");var n,l,r,i=a("Shk8"),o=(a("dZVJ"),a("Nf2q")),s=(a("wih3"),a("69Ql")),c=a("smUt"),d=a.n(c),m=(a("YCpI"),a("jnPV")),p=(a("y5MA"),a("Gywv")),u=a("Pjwa"),f=a.n(u),h=a("2cji"),v=a.n(h),b=a("sp3j"),k=a.n(b),y=a("vZkh"),C=a.n(y),E=a("+KCP"),w=a.n(E),g=(a("CyPW"),a("q5eX")),I=a("/0b7"),j=a.n(I),B=a("LneV"),x=g["a"].create({name:"form_in_modal"})(function(e){function t(){return f()(this,t),k()(this,C()(t).apply(this,arguments))}return w()(t,e),v()(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,l=e.form,r=l.getFieldDecorator;return j.a.createElement(m["a"],{visible:t,title:"\u65b0\u5efa",okText:"Create",onCancel:a,onOk:n},j.a.createElement(g["a"],{layout:"vertical"},j.a.createElement(g["a"].Item,{label:"Name"},r("name")(j.a.createElement(p["a"],null))),j.a.createElement(g["a"].Item,{label:"Address"},r("address")(j.a.createElement(p["a"],{type:"textarea"}))),j.a.createElement(g["a"].Item,{label:"Mobile"},r("mobile")(j.a.createElement(p["a"],null)))))}}]),t}(j.a.Component)),A=(n=Object(B["connect"])(function(e){var t=e.bank,a=e.loading;return{bank:t,banksLoading:a.models.bank}}),n((r=function(e){function t(){var e,a;f()(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=k()(this,(e=C()(t)).call.apply(e,[this].concat(l))),a.state={visible:!1},a.getBanks=function(){var e=a.props.dispatch;e({type:"bank/fetchBanks"})},a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.props.dispatch,t=a.formRef.props.form;t.validateFields(function(n,l){n||(console.log("Received values of form: ",l),e({type:"bank/fetchCreateBank",payload:d()({},l)}),t.resetFields(),a.setState({visible:!1}),a.getBanks())})},a.saveFormRef=function(e){a.formRef=e},a.columns=[{title:"Id",dataIndex:"id"},{title:"Name",dataIndex:"name"},{title:"Address",dataIndex:"address"},{title:"Mobile",dataIndex:"mobile"},{title:"Action",key:"action",render:function(e,t){return j.a.createElement("span",null,j.a.createElement("a",{href:"javascript:;"},"\u66f4\u65b0"),j.a.createElement(s["a"],{type:"vertical"}),j.a.createElement("a",{href:"javascript:;",onClick:function(){return a.handleDelete(t.id)}},"\u5220\u9664"))}}],a.handleDelete=function(e){console.log(e);var t=a.props.dispatch;t({type:"bank/fetchDeleteBank",payload:{id:e}}),a.getBanks()},a}return w()(t,e),v()(t,[{key:"componentDidMount",value:function(){this.getBanks()}},{key:"render",value:function(){var e=this.props,t=e.bank,a=e.banksLoading;return j.a.createElement("div",null,j.a.createElement(o["a"],{type:"primary",onClick:this.showModal},"\u65b0\u5efa"),j.a.createElement(x,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}),j.a.createElement(i["a"],{columns:this.columns,rowKey:"id",dataSource:t.list,loading:a}))}}]),t}(I["Component"]),l=r))||l);t["default"]=A}}]);